% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calcTradSleep.R
\name{calcTradSleep}
\alias{calcTradSleep}
\title{Calculate Comprehensive Sleep Metrics from Activity Data}
\usage{
calcTradSleep(dt_test)
}
\arguments{
\item{dt_test}{A \code{data.table} containing activity and sleep state data,
typically the output from \code{\link{HMMDataPrep}}. Must contain the
following columns:
\itemize{
\item \code{id}: Unique identifier for each individual
\item \code{moving}: Logical indicator of movement
\item \code{asleep}: Logical indicator of sleep state
\item \code{activity}: Numeric activity count
\item \code{phase}: Factor with levels "Light" and "Dark"
\item \code{day}: Integer day number
\item \code{genotype}: Character or factor indicating genotype
\item \code{replicate}: Character or factor indicating replicate ID
}}
}
\value{
A named list containing seven \code{data.table} objects with sleep
metrics (all time values in \strong{minutes}):
\describe{
\item{\code{brief_awakenings_data}}{Original data with added
\code{brief_awakenings} column (logical)}
\item{\code{sleep_summary_phase}}{Total sleep time per phase (Light/Dark)
and day for each individual}
\item{\code{sleep_summary_whole_day}}{Total sleep time per day for each
individual}
\item{\code{activity_index_phase}}{Mean activity during wakefulness per
phase and day (total activity / time awake)}
\item{\code{activity_index_whole_day}}{Mean activity during wakefulness
per day}
\item{\code{bout_summary_day}}{Detailed sleep bout metrics per day including:
\itemize{
\item \code{latency}: Time to first sleep bout (minutes from day start)
\item \code{first_bout_length}: Duration of first sleep bout
\item \code{latency_to_longest_bout}: Time to longest bout
\item \code{length_longest_bout}: Duration of longest bout
\item \code{n_bouts}: Number of sleep bouts
\item \code{mean_bout_length}: Average bout duration
\item \code{total_bout_length}: Total sleep time from bouts
}}
\item{\code{bout_summary_phase}}{Sleep bout metrics per phase and day}
}
}
\description{
Processes activity data to calculate traditional sleep metrics including sleep
duration, activity index during wakefulness, brief awakenings, and detailed
sleep bout characteristics. This function implements standard sleep analysis
metrics commonly used in Drosophila sleep research.

A "brief awakening" is defined as a single time point of movement that is
immediately preceded and followed by immobility, potentially indicating
fragmented or shallow sleep.
}
\details{
The function calculates metrics separately for light and dark phases based on
the \code{phase} column. Sleep bouts are identified using
\code{\link[sleepr]{bout_analysis}} from the \code{sleepr} package.

Activity index provides a measure of movement intensity during wake periods,
which can indicate arousal threshold or sleep depth.
}
\examples{
\dontrun{
# Assume 'processed_data' is output from HMMDataPrep()
sleep_metrics <- calcTradSleep(processed_data)

# Access individual metric tables
daily_bouts <- sleep_metrics$bout_summary_day
phase_sleep <- sleep_metrics$sleep_summary_phase

# View brief awakening data
head(sleep_metrics$brief_awakenings_data)

# Summary statistics
summary(sleep_metrics$sleep_summary_whole_day$time_spent_sleeping)
}

}
\seealso{
\code{\link{HMMDataPrep}} for preparing input data
\code{\link[sleepr]{bout_analysis}} for bout detection algorithm
}
