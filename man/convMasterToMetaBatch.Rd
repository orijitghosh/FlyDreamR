% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convMasterToMetaBatch.R
\name{convMasterToMetaBatch}
\alias{convMasterToMetaBatch}
\title{Convert Multiple Master Files to FlyDreamR Metadata Format (Batch)}
\usage{
convMasterToMetaBatch(
  metafiles,
  startDT = "2024-04-11 06:00:00",
  endDT = "2024-04-16 06:00:00",
  output_dir = "."
)
}
\arguments{
\item{metafiles}{Character vector. Full paths to the input master files. No default.}

\item{startDT}{Character string. The expected start date and time.
Default: \code{"2024-04-11 06:00:00"}. Format: "YYYY-MM-DD HH:MM:SS".}

\item{endDT}{Character string. The expected end date and time.
Default: \code{"2024-04-16 06:00:00"}. Format: "YYYY-MM-DD HH:MM:SS".
Note: Compared against a value derived only from the last date in the monitor file.}

\item{output_dir}{Character string. Path to the directory where the output metadata
CSV files should be saved. Defaults to the current working directory (\code{.}).}
}
\value{
A single data frame containing the combined formatted metadata (equivalent to
the written CSV content) from all successfully processed master files.
Individual CSV files are also written to \code{output_dir}.
}
\description{
Reads one or more master files, optionally validates start/end times against
their corresponding monitor files, and generates individual metadata CSVs.
}
\section{Master File Format}{

Each master file should be a tab-delimited text file \strong{without a header row}.
It must contain the following columns in order:
\enumerate{
\item Monitor number
\item Channel number
\item Genotype/Line
\item Sex
\item Treatment
\item Replicate number
\item Block number
\item SetupCode (Use \code{1} for channels to include, others ignored)
}
}

\examples{
\dontrun{
# Vector of master files (or use Sys.glob("path/master*.txt"))
my_master_files <- c("experiment_data/master53.txt", "experiment_data/master54.txt")

all_metadata <- convMasterToMetaBatch(
  metafiles = my_master_files,
  startDT = "2024-04-11 06:00:00",
  endDT   = "2024-04-16 06:00:00",
  output_dir = "metadata_output"
)

print(all_metadata)
}
}
